---
# yaml-language-server: $schema=https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/v1.32.1/storageclass.json
allowVolumeExpansion: true
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: cifs-dynamic
mountOptions:
  - dir_mode=0775
  - file_mode=0664
  - uid=1000
  - gid=100
  - noperm
  - mfsymlinks
  - noserverino
  - multichannel
  - max_channels=4
parameters:
  csi.storage.k8s.io/provisioner-secret-name: smb-storage-classes
  csi.storage.k8s.io/provisioner-secret-namespace: storage
  csi.storage.k8s.io/node-stage-secret-name: smb-storage-classes
  csi.storage.k8s.io/node-stage-secret-namespace: storage
  onDelete: delete
  source: "//${QNAP_HOSTNAME}/appdata/cifs-dynamic"
  subDir: "$${pvc.metadata.namespace}-$${pvc.metadata.name}"
reclaimPolicy: Delete
volumeBindingMode: Immediate
