---
# yaml-language-server: $schema=https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/v1.32.1/configmap-v1.json
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-settings
data:
  TIMEZONE: "US/Central"
  CLUSTER_CIDR: "10.42.0.0/16"
  SERVICE_CIDR: "10.43.0.0/16"
  LAN_CIDR: "10.0.150.128/25"
  CLUSTER_API_ADDR: "10.0.150.200"
  CLOUDFLARE_GATEWAY_ADDR: "10.0.150.130"
  CLUSTER_GATEWAY_ADDR: "10.0.150.131"
  CLUSTER_DNS_GATEWAY_ADDR: "10.0.150.132"
  CEPH_CLUSTER_CIDR: "169.254.255.0/24"

  SB_CLUSTER_UUID: "4b1f091e-cba7-4691-ab12-91e2634e161f"

  GIT_REPO: "github.com/brunnels/talos-cluster"
  GIT_REPO_REF: "refs/heads/ms01"
  INGRESS_SECURE_PATH: "spec/values/ingress/app/annotations"

  VOLSYNC_PVC_STORAGECLASS: "ceph-block"
  VOLSYNC_SNAPSHOTCLASS: "csi-ceph-blockpool"
  VOLSYNC_CACHE_SNAPSHOTCLASS: "ceph-block"
  VOLSYNC_STORAGECLASS: "ceph-block"
  VOLSYNC_S3_BUCKET: "kdev_volsync"

  THEME_PARK_SNIPPET: >
    proxy_set_header Accept-Encoding "";
    sub_filter '</head>' '<link rel="stylesheet" type="text/css" href="https://theme-park.${SECRET_DOMAIN}/css/base/{{ .Release.Name }}/${THEME_PARK_THEME}.css"></head>';
    sub_filter_once on;
  SVC_POSTGRES_ADDR: "10.0.150.129"
  SVC_VPN_ADDR: "10.0.150.130"
  SVC_CODER_ADDR: "10.0.150.131"
  SVC_HOME_ASSISTANT_ADDR: "10.0.150.132"
  SVC_PLEX_ADDR: "10.0.150.133"
